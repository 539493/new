# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å CRM API

## ‚ùå –û—à–∏–±–∫–∞ "Cannot GET"

### –ü—Ä–∏—á–∏–Ω–∞
–û—à–∏–±–∫–∞ "Cannot GET" –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞:
1. CRM API —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL API
3. –ü—Ä–æ–±–ª–µ–º—ã —Å CORS
4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

#### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ CRM API —Å–µ—Ä–≤–µ—Ä

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É CRM API
cd /Users/admin/Downloads/crm-api-server

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
node server.cjs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üöÄ CRM API Server running on port 3001
üì° Server accessible at:
  - Local: http://localhost:3001
  - API Base: http://localhost:3001/api
  - Health Check: http://localhost:3001/api/health
  - API Key: crm_539493_2024_auth_token_secure_key
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
curl http://localhost:3001/api/health

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞—Ä–æ–ª–µ–º
curl -X POST http://localhost:3001/api/users \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer crm_539493_2024_auth_token_secure_key" \
  -d '{
    "name": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
    "email": "test@example.com",
    "password": "test123",
    "type": "student",
    "phone": "+7(999)123-45-67",
    "subjects": ["–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞"]
  }'
```

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–í —Ñ–∞–π–ª–µ `src/services/crmService.ts` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```typescript
const BASE_URL = process.env.CRM_API_URL || (process.env.NODE_ENV === 'production' 
  ? 'https://crm-api-server.onrender.com/api' 
  : 'http://localhost:3001/api');
```

#### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –í –ø–∞–ø–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
cd /Users/admin/Downloads/–ø—Ä–æ–µ–∫—Ç
npm start
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**: `test_crm_integration.html`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–∞—Ä–æ–ª–µ–º
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–∞

### üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ**: https://render.com/dashboard
2. **–°–æ–∑–¥–∞–π—Ç–µ Web Service** –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `crm-api-server`
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ**:
   - Name: `crm-api-server`
   - Environment: `Node`
   - Build Command: `npm install`
   - Start Command: `npm start`
   - Health Check Path: `/api/health`

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 3001 —Å–≤–æ–±–æ–¥–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ 