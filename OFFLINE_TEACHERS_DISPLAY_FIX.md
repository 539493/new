# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ñ–ª–∞–π–Ω —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —É—á–µ–Ω–∏–∫–∞, –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π".

## –ü—Ä–∏—á–∏–Ω–∞
–ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:
1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –≤ `tutoring_users`
2. ‚ùå –ü—Ä–æ—Ñ–∏–ª—å –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –≤ `tutoring_teacherProfiles`
3. ‚ùå DataContext –Ω–µ –ø–æ–ª—É—á–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω AuthContext
**–§–∞–π–ª**: `src/contexts/AuthContext.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å –≤ `tutoring_teacherProfiles`
- –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å –≤ `tutoring_studentProfiles`
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è `customStorage` —Å–æ–±—ã—Ç–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è DataContext

```javascript
// –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å –≤ teacherProfiles
if (role === 'teacher') {
  const currentTeacherProfiles = JSON.parse(localStorage.getItem('tutoring_teacherProfiles') || '{}');
  currentTeacherProfiles[newUser.id] = baseProfile;
  localStorage.setItem('tutoring_teacherProfiles', JSON.stringify(currentTeacherProfiles));
  
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DataContext
  window.dispatchEvent(new CustomEvent('customStorage', {
    detail: {
      key: 'tutoring_teacherProfiles',
      newValue: JSON.stringify(currentTeacherProfiles)
    }
  }));
}
```

### 2. –£–ª—É—á—à–µ–Ω DataContext
**–§–∞–π–ª**: `src/contexts/DataContext.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
- –£–ª—É—á—à–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `customStorage` —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

```javascript
// –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
if (e.detail?.key === 'tutoring_teacherProfiles') {
  try {
    const newProfiles = JSON.parse(e.detail.newValue || '{}');
    setTeacherProfiles(newProfiles);
    console.log('üîÑ –ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ customStorage:', Object.keys(newProfiles).length);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:', error);
  }
}
```

### 3. –£–ª—É—á—à–µ–Ω StudentHome
**–§–∞–π–ª**: `src/components/Student/StudentHome.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –£–ª—É—á—à–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –õ–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –≤ StudentHome:

1. **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞** (`serverTeachers`) - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ API
2. **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** (`allUsers`) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é 'teacher'
3. **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π** (`teacherProfiles`) - fallback –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
4. **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–∑ —Å–ª–æ—Ç–æ–≤** (`timeSlots`) - –µ—Å–ª–∏ –µ—Å—Ç—å —Å–ª–æ—Ç—ã —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
```javascript
const allSources = [...teachersFromServer, ...teachersFromUsers, ...teachersFromProfiles, ...teachersFromSlots];
```

### –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:
```bash
node scripts/test-local-teacher-registration.cjs
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –æ—Ñ–ª–∞–π–Ω**:
   - –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –≤ localStorage

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è**:
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —É—á–µ–Ω–∏–∫
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ì–ª–∞–≤–Ω–∞—è"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞**:
```javascript
// –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:', JSON.parse(localStorage.getItem('tutoring_users')));
console.log('–ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:', JSON.parse(localStorage.getItem('tutoring_teacherProfiles')));
```

## –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:
```
‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ: user_id
```

### –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DataContext:
```
üì± –ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π: 1
```

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ customStorage:
```
üîÑ –ü—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –æ–±–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ customStorage: 1
```

### –í StudentHome:
```
üì± –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: 1
üë• –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: 1
üì± –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π: 1
‚úÖ –ò—Ç–æ–≥–æ–≤—ã–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏: 1
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–∏**
2. ‚úÖ **DataContext –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö**
3. ‚úÖ **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —É—á–µ–Ω–∏–∫–∞**
4. ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–Ω–ª–∞–π–Ω, —Ç–∞–∫ –∏ –æ—Ñ–ª–∞–π–Ω**
5. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ —Å–µ—Ä–≤–µ—Ä—É**

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —É—á–µ–Ω–∏–∫–∞ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: "–í—Å–µ–≥–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ: X —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤ | –õ–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π: Y"
- **–°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π** –≤–º–µ—Å—Ç–æ "–ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π"
- **–ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –õ–æ–∫–∞–ª—å–Ω—ã–µ"** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º

–¢–µ–ø–µ—Ä—å –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã –≤—Å–µ–≥–¥–∞ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —É—á–µ–Ω–∏–∫–∞–º! üéâ
